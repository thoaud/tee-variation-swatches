---
globs: repo/wp-content/plugins/tee-variation-swatches/*
alwaysApply: false
---

# TEE Variation Swatches - AI Rules

**Cursor Rules**: See [.cursor/rules/](.cursor/rules/) directory

**Documentation Priority**:
- ‚≠ê CRITICAL: [.cursor/rules/00-start-here.mdc](.cursor/rules/00-start-here.mdc) - Essential rules & overview
- ‚≠ê CRITICAL: [improvements.md](improvements.md) - Known issues & recommendations
- üìò IMPORTANT: [.cursor/rules/performance.mdc](.cursor/rules/performance.mdc) - Caching & optimization patterns
- üìö REFERENCE: [.cursor/rules/common-tasks.mdc](.cursor/rules/common-tasks.mdc) - How-to guides

## Rules Files

**Always Applied**:
- `00-start-here.mdc` - Critical rules and overview
- `plugin-architecture.mdc` - Structure & patterns
- `code-standards.mdc` - PHP security & WooCommerce integration

**On-Demand**:
- `performance.mdc` - Caching and optimization patterns
- `common-tasks.mdc` - How-to guides

## Quick Reference

**Core Principles**:
- ‚úÖ Object caching first - Always use `wp_cache_*()` with fallback to transients
- ‚úÖ Batch queries - Prevent N+1 problems by loading data in bulk
- ‚úÖ HPOS compatibility - Use WooCommerce Data Stores, not direct DB queries
- ‚úÖ Security first - Sanitize input, escape output, verify nonces
- ‚úÖ Debounce AJAX - Prevent rapid-fire requests

**Critical Patterns**:
- Fragment caching for swatch rendering
- Batch term meta loading to avoid N+1 queries
- Smart cache invalidation on product/variation changes
- Debounced stock checks on client-side
